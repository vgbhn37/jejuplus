<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper
	namespace="com.green.jejuplus.repository.interfaces.ScheduleRepository">

	<select id="findAllList" resultType="Contents">
		select * from tb_contents limit #{offset}, #{recordSize}
	</select>
	<select id="findListByLabel" resultType="Contents">
		select * from tb_contents where contents_label = #{label} limit #{paging.offset}, #{paging.recordSize}
	</select>
	<select id="findMyFavoriteList" resultType="Contents">
		select * from tb_contents c join tb_favorite f on c.contents_id =
		f.contents_id
		where user_id = #{userId}
		limit #{paging.offset}, #{paging.recordSize}
	</select>
	<select id="findContentsBySearchTitle" resultType="Contents">
		select * from tb_contents where title like concat('%',#{search},'%')
		limit #{paging.offset}, #{paging.recordSize}
	</select>
	<select id="findContentsBySearchTag" resultType="Contents">
		select * from tb_contents where tag like concat('%',#{search},'%')
		limit #{paging.offset}, #{paging.recordSize}
	</select>
	<select id="findScheduleById" resultType="Schedule">
		select * from tb_schedule where schedule_id = #{scheduleId}
	</select>
	<select id="findCountByLabel">
		select count(*) from tb_contents where contents_label = #{contentsLabel}
	</select>
	<select id="findCountAll">
		select count(*) from tb_contents;
	</select>
	<select id="findCountByMyFavorite">
		select count(*) from tb_contents c join tb_favorite f on c.contents_id =
		f.contents_id
		where user_id = #{userId}
	</select>
	<select id="findCountBySearchTitle">
		select count(*) from tb_contents where title like concat('%',#{search},'%')
	</select>
	<select id="findCountBySearchTag">
		select count(*) from tb_contents where tag like concat('%',#{search},'%')
	</select>


</mapper> 